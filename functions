import requests
from bs4 import BeautifulSoup
import json

"""
   data = {
        "html": soup,
    }

    with open("dataName.json", "w") as file:
        json.dump(data, file, indent=4)
"""

def findRoblox(username):
    payload = {
        "usernames": [username], 
        "excludeBannedUsers": False 
    }
    headers = {
        "Content-Type": "application/json"
    }

    response = requests.post("https://users.roblox.com/v1/usernames/users", json=payload, headers=headers)

    if response.status_code == 200:
        data = response.json()
        
        if data["data"]:
            userdata = data["data"][0]  
            userid = userdata["id"]
            profile_url = f"https://www.roblox.com/users/{userid}/profile"


            return {"Roblox": True, "username": username, "profile": profile_url}
        else:
            return {"Roblox": False, "username": None, "profile": None}
    else:
        return None
    
def findFacebook(username):
    url = f"https://www.facebook.com/{username}"
    page = requests.get(url)
    soup = BeautifulSoup(page.content, 'html.parser').prettify()

    if soup.find("Join Facebook to connect with") != -1:
        return {"Facebook": True, "username": username, "profile_url": url}
    else:
        return {"Facebook": False, "username": None, "profile_url": None}


userinput = input("enter Name: ")
print(findRoblox(userinput))
print(findFacebook(userinput))
